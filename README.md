# [Switch to english version](https://github.com/turing228/map-get-fresh-top-k/blob/master/README_ENG.md) or [google translate this](https://translate.google.com/translate?sl=ru&tl=en&u=https%3A%2F%2Fgithub.com%2Fturing228%2Fmap-get-fresh-top-k%2Fblob%2Fmaster%2FREADME.md)

# –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –≤ –∫–æ–º–∞–Ω–¥—É –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ VK
#### –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∞ ‚úÖ
#### –í—ã–ø–æ–ª–Ω—è–µ—Ç: –ù–∏–∫–∏—Ç–∞ –õ–∏—Å–æ–≤–µ—Ç–∏–Ω, —Å—Ç—É–¥–µ–Ω—Ç –≥—Ä—É–ø–ø—ã –ú3339 –∫–∞—Ñ–µ–¥—Ä—ã –ö–¢ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –ò–¢–ú–û ([vkontakte](vk.com/nikitalisovetin), [github](github.com/turing228))

<p align="center">
    <a href="https://github.com/turing228/map-get-fresh-top-k/blob/master/LICENSE">
        <img src="https://img.shields.io/github/license/turing228/map-get-fresh-top-k" title="Map-Get-Fresh-Top-K is released under the GNU GPL license." />
    </a>
    <a href="https://github.com/turing228/map-get-fresh-top-k/graphs/contributors">
        <img src="https://img.shields.io/github/contributors/turing228/map-get-fresh-top-k?color=orange" title="Contributors"/>
    </a>
    <img src="https://img.shields.io/github/repo-size/turing228/map-get-fresh-top-k" title="Repository size"/>
    <img src="https://img.shields.io/badge/build-passing-brightgreen" title="Build passing"/>
    <a href="https://github.com/turing228/map-get-fresh-top-k/stargazers">
        <img src="https://img.shields.io/github/stars/turing228/map-get-fresh-top-k?style=social" title="Stars"/>
    </a>
</p>

–ö–∞–∫–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–Ω—É—Ç—É? –ö–∞–∫ –º—ã —ç—Ç–æ —Å–º–æ–∂–µ–º –ø–æ–Ω—è—Ç—å? –≠—Ç–∞ map –ª–µ–≥–∫–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –º–∏–ª–ª–∏–∞—Ä–¥–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥—É. –†–µ—à–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ —Å–ª–æ–∂–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ ‚Äî "–∞–ª–≥–æ—Ä–∏—Ç–º–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã". –Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª —Ä–∞–∑–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª –ª—É—á—à–∏–π –∏–∑ –Ω–∏—Ö, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª ‚Äî –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å!

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:
- [üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫](#-–±—ã—Å—Ç—Ä—ã–π-–∑–∞–ø—É—Å–∫)
- [‚ò†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-c—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [üíé –ò—Å—Ö–æ–¥–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞–Ω–∏—è](#-–∏—Å—Ö–æ–¥–Ω–∞—è-—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞-–∑–∞–¥–∞–Ω–∏—è)
- [üöÑ –ó–∞–¥–∞—á–∞ –≤ –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö](#-–∑–∞–¥–∞—á–∞-–≤-–¥–≤—É—Ö-—Å–ª–æ–≤–∞—Ö)
- [‚ö° –ü–æ–∏—Å–∫–∏ —Ä–µ—à–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ](#-–ø–æ–∏—Å–∫–∏-—Ä–µ—à–µ–Ω–∏—è-–≤-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ)
- [üé≥ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤](#-—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Ä–∞–∑–Ω—ã—Ö-–ø–æ–¥—Ö–æ–¥–æ–≤)
- [üî• –ú–µ—Ç–æ–¥ –±–∞–∫–µ—Ç–æ–≤](#-–º–µ—Ç–æ–¥-–±–∞–∫–µ—Ç–æ–≤)
- [üíò –†–µ—à–µ–Ω–∏–µ](#-—Ä–µ—à–µ–Ω–∏–µ)
- [üçî –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [üîì –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –±—É–¥—É—â–µ–µ](#-–æ—Ç–∫—Ä—ã—Ç—ã–µ-–≤–æ–ø—Ä–æ—Å—ã-–Ω–∞-–±—É–¥—É—â–µ–µ)
- [üèπ –í–æ–∑–º–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](#-–≤–æ–∑–º–æ–∂–Ω—ã–µ-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
- [üë™ –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä—ã](#-–∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä—ã)
- [üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è](#-–ª–∏—Ü–µ–Ω–∑–∏—è)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

–î–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Ä–µ—à–µ–Ω–∏—è –∏ —Å–±–æ—Ä–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞–±—Ä–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

    ./make_lib.sh

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç 15 –º–∏–Ω—É—Ç, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Google Tests):

    #linux/macos
    ./run_tests.sh
    
    #windows cmd
    1. Run cmake-gui.exe
    2. Set sourse code place *project_directory* (without spaces!)
    3. Create and choose build_dir directory in root of *project_directory* (without spaces!)
    3. Click "configure" and generate MinGW MakeFile
    cd build_dir
    cmake ..
    make all
    cd google_tests
    Google_Tests_run.exe

## ‚ò†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
| --- | --- |
| main.cpp | Hello World! –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ MapGetFreshTopK |
| map_get_fresh_top_k_lib | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ñ–∞–π–ª–∞–º–∏ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∫–ª–∞—Å—Å–æ–≤ –ø–æ –∑–∞–¥–∞–Ω–∏—é |
| map_get_fresh_top_k_lib/map_with_get_very_frequent.h | –ö–ª–∞—Å—Å `MapGetFreshTopK` |
| map_get_fresh_top_k_lib/frequency_estimation_analyzer.h | –ö–ª–∞—Å—Å `FrequencyEstimationAnalyzer`, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è `MapGetFreshTopK` |
| google_tests | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ñ–∞–π–ª–∞–º–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ |
| google_tests/tests.cpp | Google —Ç–µ—Å—Ç—ã |
| google_tests/accurate_frequency_analyzer.cpp | –ö–ª–∞—Å—Å `AccurateFrequencyAnalyzer`, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Ç–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ø–∞ –∫–ª—é—á–µ–π –ø–æ —á–∏—Å–ª—É –∑–∞–ø—Ä–æ—Å–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `MapGetFreshTopK`), –Ω–µ –∂–∞–ª–µ—é—â–∏–π –ø–∞–º—è—Ç—å |
| google_tests/utility_functions.cpp | –ú–Ω–æ–≥–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ Google —Ç–µ—Å—Ç–∞—Ö |

–í—Å–µ —Ñ–∞–π–ª—ã, –∫–ª–∞—Å—Å—ã, –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ –≤–∞–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [Google C++ Style Guide](https://google.github.io/styleguide/cppguide.html).

## üíé –ò—Å—Ö–æ–¥–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞–Ω–∏—è

### –ß–∞—Å—Ç—å 1.

–ù–∞ c++ (–¥–æ–ª–∂–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è g++ -std=c++11 –±–µ–∑ –∫–∞–∫–∏—Ö-–Ω–∏–±—É–¥—å –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫) –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è –¥–æ–ª–∂–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—å —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É –∏–∑ —Å—Ç—Ä–æ–∫–∏ –≤ —Å—Ç—Ä–æ–∫—É –∏ —É–º–µ—Ç—å –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã:

- get key ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á
- set key value ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å –∫–ª—é—á

–ú–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –¥–ª–∏–Ω–∞ –∫–ª—é—á–∞ –Ω–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏—Ç 1–ö–±, –∞ –¥–ª–∏–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è 1–ú–±.

–í–Ω—É—Ç—Ä–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ç–æ–≥–æ, –∫–∞–∫ —á–∞—Å—Ç–æ –∫–∞–∫–∏–µ –∫–ª—é—á–∏ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç. –ü–æ—Ç—Ä–µ–±–ª—è–µ–º–∞—è –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º –ø–∞–º—è—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–≤—ã—à–∞—Ç—å –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ–≥–∞–±–∞–π—Ç) –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª—é—á–µ–π/–∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ –≤ –∏–Ω—Å—Ç–∞–Ω—Å –∫–ª–∞—Å—Å–∞.
–≠—Ç–æ—Ç –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å –≤—ã–¥–∞–≤–∞—Ç—å —Ç–æ–ø –∫–ª—é—á–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Å–ø—Ä–∞—à–∏–≤–∞–ª–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è. –≠—Ç—É —Ñ—Ä–∞–∑—É –º–æ–∂–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É, –Ω–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ç–æ—á–Ω–æ –¥–æ–ª–∂–µ–Ω –ø–æ–¥—Ö–æ–¥–∏—Ç—å –ø–æ–¥ —Å–ª–µ–¥—É—é—â–∏–π –∫—Ä–∏—Ç–µ—Ä–∏–π: –µ—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –∫–ª—é—á –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–Ω—É—Ç—É —Å–ø—Ä–æ—Å–∏–ª–∏ –±–æ–ª—å—à–µ —á–µ–º –≤ 10% –∑–∞–ø—Ä–æ—Å–æ–≤, —Ç–æ —Ç–∞–∫–æ–π –∫–ª—é—á —Å 99% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞—Å—Ç—å –≤ –≤—ã–≤–æ–¥ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞.

–ò–¥–µ—é —Ç–æ–≥–æ, –∫–∞–∫ —Ç–∞–∫–æ–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç—Ä–æ–µ–Ω, –ª—É—á—à–µ –Ω–∞–π—Ç–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ / –ø–æ—á–∏—Ç–∞—Ç—å –∫–∞–∫–∏–µ-–Ω–∏–±—É–¥—å —Å—Ç–∞—Ç—å–∏, –Ω–æ —Å–∞–º–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω—ã –≤—Ä—É—á–Ω—É—é –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

### –ß–∞—Å—Ç—å 2.

–ù—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–µ –±—ã –ø—Ä–æ–≤–µ—Ä—è–ª–∏, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Ö–æ–¥—è—Ç—Å—è highload-–∫–ª—é—á–∏. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ, —á—Ç–æ —Å–∞–º–∞ —Ö–µ—à—Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–µ –Ω—É–∂–Ω–æ.
–°–∞–º–∏ —Ç–µ—Å—Ç—ã –º–æ–∂–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –≤ –≤–∏–¥–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –µ–≥–æ –º–µ—Ç–æ–¥—ã. –ê –ø–æ—Ç–æ–º –≤—ã–≤–æ–¥–∏—Ç –Ω–∞ stdout –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏—Å—å –≥–æ—Ä—è—á–∏–µ –∫–ª—é—á–∏.

## üöÑ –ó–∞–¥–∞—á–∞ –≤ –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö

1. –í –æ–Ω–ª–∞–π–Ω–µ –∏–¥—ë—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (–∑–∞–ø—Ä–æ—Å—ã —Å –∫–ª—é—á–∞–º–∏)
1. –ú—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—É—á–∏—Ç—å—Å—è –æ—Ç–≤–µ—á–∞—Ç—å –≤ –æ–Ω–ª–∞–π–Ω–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å: "–¥–∞–π —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è –≤ —Ö–æ—Ç—è –±—ã 10% –∑–∞–ø—Ä–æ—Å–∞—Ö –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–Ω—É—Ç—É"
1. –ò–ú–ï–ù–ù–û –ó–ê –ü–û–°–õ–ï–î–ù–Æ–Æ –ú–ò–ù–£–¢–£
1. –û–±—ä–µ–º –ø–∞–º—è—Ç–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —á–∏—Å–ª–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
1. –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É

## ‚ö° –ü–æ–∏—Å–∫–∏ —Ä–µ—à–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ

–ò–∑–≤–µ—Å—Ç–Ω–∞ –∑–∞–¥–∞—á–∞ "top K frequent elements in array", –Ω–æ –æ–Ω–∞ –Ω–∞–º –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç ‚Äî —É –Ω–∞—Å —Ä–∞–±–æ—Ç–∞ –≤ –æ–Ω–ª–∞–π–Ω–µ. –ù–∞—à–∞ –∂–µ –∑–∞–¥–∞—á–∞
–≥—É–≥–ª–∏—Ç—Å—è —Å–ª–æ–≤–∞–º–∏ –Ω–∞–ø–æ–¥–æ–±–∏–µ "top K frequent elements in data stream".

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —è –Ω–∞—à–µ–ª –∏ –∏–∑—É—á–∏–ª —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ —Å—Ç–∞—Ç—å–∏:
1. [GeeksForGeeks, —Ä–µ—à–µ–Ω–∏–µ –∑–∞ O(n * k)](https://www.geeksforgeeks.org/find-top-k-or-most-frequent-numbers-in-a-stream/)
1. [–ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ top K –∏–∑ M —Ä–∞–∑–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö](https://www.gsd.inesc-id.pt/~mm/papers/2015/debs_topico.pdf)
1. [–ù–∞–±–æ—Ä –ø–æ–ª–µ–∑–Ω—ã—Ö –∏–¥–µ–π –∫–∞–∫ —Ä–µ—à–∞—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–æ–±–Ω—É—é –∑–∞–¥–∞—á—É –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö](https://github.com/DreamOfTheRedChamber/system-design/blob/master/topk.md#how-to-calculate-topk-recent-x-minutes)
1. [–û—Ç–ª–∏—á–Ω–æ –æ–ø–∏—Å–∞–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞ O(1), –ø–∞–º—è—Ç–∏ O(N) —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ —Ç–∞–π–º—Å—Ç–µ–º–ø–æ–≤ (N - –∫–ª—é—á–µ–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é 
–º–∏–Ω—É—Ç—É) - –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ —É—Å–ª–æ–≤–∏—é –∑–∞–¥–∞–Ω–∏—è](https://stackoverflow.com/a/21705869)
1. [–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ —Å –æ–∫–Ω–∞–º–∏ (—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –æ—Ç–¥–µ–ª—å–Ω–æ, –º–∏–Ω—É—Ç–∞ - –ø–æ—Å–ª–µ–¥–Ω–∏–µ 60 –æ–∫–æ–Ω) –∏ –æ–Ω–∏ –µ–¥—è—Ç —É–∂–µ –º–∞–ª–æ 
–ø–∞–º—è—Ç–∏](https://stackoverflow.com/a/21693692)
1. [–ü—Ä–æ—Å—Ç–æ–π –∏ –∫—Ä–∞—Å–∏–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –æ—Ü–µ–Ω–∫–∏ —á–∞—Å—Ç–æ—Ç—ã –¥–ª—è —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.511.4581&rep=rep1&type=pdf)
1. [–¢–æ—Ç –∂–µ —Å–∞–º—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º](https://www.cs.bgu.ac.il/~dinitz/Course/SS-12/Karp-frequent-el.pdf)
1. [–¢—Ä–∏ –ø–æ–¥—Ö–æ–¥–∞ –¥–ª—è streams (Multi HashMap + heap, Count-Min Sketch + Heap, Lossy Counting)](https://zpjiang.me/2017/11/13/top-k-elementes-system-design/)

–ü–æ–º–∏–º–æ —Ç–æ–≥–æ, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –≥–¥–µ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, 
[stream-lib for Java](https://github.com/addthis/stream-lib)), –≤—ã–¥–µ–ª—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ 3 –ø–æ–¥—Ö–æ–¥–∞, –ø—Ä–∏–º–µ–Ω–∏–º—ã–µ –∫ –∏–º–µ–Ω–Ω–æ
–Ω–∞—à–µ–º—É –∑–∞–¥–∞–Ω–∏—é (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –ø–∞–º—è—Ç–∏, –æ–Ω–ª–∞–π–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∞):

1. [Count-Min Sketch](https://medium.com/@gopalkrushnapattanaik/understanding-count-min-sketch-8a10590fc936) —Å [Heavy Hitters](https://www.researchgate.net/post/How_to_find_the_most_frequent_items_in_count-min_sketch2)
–í–æ–∑–º–æ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä —Ç–∞–±–ª–∏—Ü—ã –∏ 2^8192 –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∫–ª—é—á–µ–π, –Ω–∞–≥—Ä—É–∑–∫–∞ –≤—Ä—è–¥ –ª–∏ –±—É–¥–µ—Ç 
–ø—Ä–µ–≤—ã—à–∞—Ç—å 100 –º–∏–ª–ª–∏–æ–Ω–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É, –ø–æ—ç—Ç–æ–º—É –∫–æ–ª–ª–∏–∑–∏–∏–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –∏ –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏–π –º–æ–≥—É—Ç –Ω–µ –≤–ª–∏—è—Ç—å —Å–∏–ª—å–Ω–æ.
1. [Lossy Counting](https://www.researchgate.net/publication/220195060_Probabilistic_lossy_counting_An_efficient_algorithm_for_finding_heavy_hitters)
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ—Ä—Ü–∏—è–º–∏ (–¥–µ–ª–∏—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∫—É—Å–∫–∏ –∏ —Å –∫–∞–∂–¥—ã–º –ø–æ-–æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç). –ù–µ–ø–ª–æ—Ö–æ, –Ω–æ —Å –ø–µ—Ä–≤–æ–≥–æ –≤–∑–≥–ª—è–¥–∞ –∞–ª–æ–≥—Ä–∏—Ç–º —Å–ª–æ–∂–µ–Ω –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–≤–∏–¥—É –Ω–∞–ª–∏—á–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –º–µ—Å—Ç–æ, –∑–∞–Ω–∏–º–∞–µ–º–æ–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º (—Ç–æ –µ—Å—Ç—å —Å–ª–æ–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ø–æ—Ä—Ü–∏—è–º–∏ –¥–∞–Ω–Ω—ã—Ö, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–Ω–∞–≥—Ä—É–∑–∫–∞ –º–æ–∂–µ—Ç —Å–∏–ª—å–Ω–æ –º–µ–Ω—è—Ç—å—Å—è, –∞ –º—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–¥–∞–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–æ—á–Ω–æ –∑–∞ 1 –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–Ω—É—Ç—É))
1. [Frequency Estimation](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.511.4581&rep=rep1&type=pdf)
–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø—Ä–æ—Å—Ç–æ –¥—Ä—É–≥–æ–π "Lossy Counting", –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –¥–∞–Ω–Ω—ã–µ —É–∂–µ –≤ –ø–æ—Ç–æ–∫–µ, –∞ –Ω–µ –ø–æ—Ä—Ü–∏—è–º–∏. –û—Ç–ª–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

## üé≥ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤

2 –∏–ª–∏ 3? –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ 3 –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã, –Ω–æ –∞–ª–≥–æ—Ä–∏—Ç–º –≥–æ—Ä–∞–∑–¥–æ —Å–ª–æ–∂–Ω–µ–µ. –û—Å—Ç–∞–≤–ª—è–µ–º 3.

1 –∏–ª–∏ 3? –ü—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ 1 –∏ 3 –¥–ª—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –≤ 1 –º—ã —Å—á–∏—Ç–∞–µ–º –∫—É—á—É —Ä–∞–∑ —Ä–∞–∑–Ω—ã–π —Ö–µ—à –æ—Ç –∫–ª—é—á–∞ —Ä–∞–∑–º–µ—Ä–æ–º –¥–æ 1 –ö–±, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–≤–æ–ª—å–Ω–æ —Ç—Ä—É–¥–æ–µ–º–∫–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≥–æ—Ç–æ–≤–∞—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–µ–æ—Ä–∏—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –æ—à–∏–±–∫–∏ –≤ –ø–æ–ª—É—á–∞–µ–º–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏.

–í—ã–∏–≥—Ä–∞–ª –∞–ª–≥–æ—Ä–∏—Ç–º [**3. Frequency Estimation**](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.511.4581&rep=rep1&type=pdf)!!!

## üî• –ú–µ—Ç–æ–¥ –±–∞–∫–µ—Ç–æ–≤

–í—Å–µ —ç—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ø–∞ –∑–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç "–±–∞–∫–µ—Ç—ã" (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ 
–¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–∫–µ—Ç—ã/–∫–æ–ª–æ–¥—Ü—ã, –¥–æ–±–∞–≤–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ, –∞ —É–±–∏—Ä–∞—Ç—å ‚Äî –Ω–µ—Ç). –°–∞–º—ã–π –ª—É—á—à–∏–π –ø–æ–¥—Ö–æ–¥ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —Å–ª–µ–¥—É—é—â–∏–π:
1. –û—Ç–≤–µ—á–∞–µ–º –Ω–∞ –∑–∞–ø—Ä–æ—Å –Ω–µ –ø—Ä–æ —Ç–æ—á–Ω–æ 60 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–µ–∫—É–Ω–¥, –∞ –ø—Ä–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 60-65 —Å–µ–∫—É–Ω–¥ (—ç—Ç–æ "–Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º–∞—è –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å", —Ö–æ—Ç—è –µ—ë –º–æ–∂–Ω–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –ø—Ä–æ—Å—Ç–æ —É–≤–µ–ª–∏—á–∏–≤ —á–∏—Å–ª–æ –±–∞–∫–µ—Ç–æ–≤). –•—Ä–∞–Ω–∏–º 13 –±–∞–∫–µ—Ç–æ–≤ –ø—Ä–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–µ –±–æ–ª–µ–µ 65 —Å–µ–∫—É–Ω–¥. –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ —É–¥–∞–ª—è–µ–º —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π –±–∞–∫–µ—Ç –∏ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ `get`/`set` –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –≤—Å–µ 13 –±–∞–∫–µ—Ç–æ–≤. –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ `get_top_k()` —Ä–∞–±–æ—Ç–∞–µ–º —Å —Å–∞–º—ã–º —Å—Ç–∞—Ä—ã–º —Ç–µ–∫—É—â–∏–º –±–∞–∫–µ—Ç–æ–º

## üíò –†–µ—à–µ–Ω–∏–µ
–ê–ª–≥–æ—Ä–∏—Ç–º –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è (—Ç–µ–æ—Ä–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏) –æ—Ç–ª–∏—á–Ω–æ –æ–ø–∏—Å–∞–Ω—ã –≤ [—ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.511.4581&rep=rep1&type=pdf).

–°–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞—Ç—å–µ (—Å–º. 4 Conclusions), –µ—Å–ª–∏ —Ö–æ—Ç–∏–º –Ω–∞–π—Ç–∏ –∫–ª—é—á–∏ A, –≤—Å—Ç—Ä–µ—Ç–∏–≤—à–∏–µ—Å—è —Ö–æ—Ç—è –±—ã –≤ <img src="https://render.githubusercontent.com/render/math?math=n * 10\%"> –∑–∞–ø—Ä–æ—Å–∞—Ö, —Ç–æ alpha=0.1, 
—Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ, —Å –∫–æ—Ç–æ—Ä—ã–º –≤—Å—Ç—Ä–µ—Ç–∏–ª—Å—è –∫–ª—é—á a –∏–∑ A, –±—É–¥–µ—Ç <img src="https://render.githubusercontent.com/render/math?math=(1-alpha)*n/m = (1-0.1)*n/m = 0.9*n/m">. –ß—Ç–æ–±—ã 
–≤—ã–¥–∞—Ç—å –≤—Å–µ –∫–ª—é—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å –≤ 10% –∑–∞–ø—Ä–æ—Å–∞—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–º –Ω—É–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–ª—é—á–∏, –≤—Å—Ç—Ä–µ—Ç–∏–≤—à–∏–µ—Å—è —Ö–æ—Ç—è 
–±—ã <img src="https://render.githubusercontent.com/render/math?math=alpha*n ‚Äî (1-alpha)*n/m = 0.1*n - 0.9*n/m"> —Ä–∞–∑. –¢–∞–∫–∏—Ö <img src="https://render.githubusercontent.com/render/math?math=\leq n / (0.1*n - 0.9*n/m)">, –∞ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ <= 10.

–ú—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –±—ã–ª–æ –Ω–µ–¥–∞–ª–µ–∫–æ –æ—Ç –≤—Ç–æ—Ä–æ–≥–æ (–º—ã —Ö–æ—Ç–∏–º –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–æ–ø-10, –Ω–æ –Ω–∏–∫–∞–∫ –Ω–µ —Ç–æ–ø-50). –ù–æ –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –∏ m –Ω–µ –±—ã–ª–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–º (m ‚Äî —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∞—à–∏—Ö 13 —Ö–µ—à—Ç–µ–π–±–ª–æ–≤). –†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:

| m | 1 / (0.1 - 0.9/m) |
| --- | --- |
| 10 | 100 |
| 18 | 20 |
| 27 | 15 | 
| 32 | 14 |
| 39 | 13 |
| 54 | 12 |
| 99 | 11 |

(—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–º python)

	for i in range(10, 200):
		print(i, 1 / (0.1 - 0.9/i))

m = 54 –∏ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ —É–≤–∏–¥–µ—Ç—å –≤ —Ä–µ–¥–∫–æ–º —Å–ª—É—á–∞–µ 11 –∏–ª–∏ 12 –∫–ª—é—á–µ–π (–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö ‚Äî –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –∫–∞–∂–¥—ã–π –¥–æ–ª–∂–µ–Ω –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è –≤ >= 8.3% –∑–∞–ø—Ä–æ—Å–∞—Ö). –ë–æ–ª–µ–µ "–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ" –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø–æ–¥–±–µ—Ä—É—Ç—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.

## üçî –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤, –∫—Ä–æ–º–µ –ø–µ—Ä–≤—ã—Ö –æ—á–µ–≤–∏–¥–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∞—Å—Å `AccurateFrequencyAnalyzer` –∏–∑ —Ñ–∞–π–ª–∞ `google_tests/accurate_frequency_analyzer.h` ‚Äî –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä, –∑–∞–ø–∏—Å—ã–≤–∞—é—â–∏–π –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–∞—Ä—ã "–∫–ª—é—á, –≤—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è" –∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ `GetActualTop()` –≤—ã–¥–∞–µ—Ç –∫–ª—é—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ >= 10% –∑–∞–ø—Ä–æ—Å–∞—Ö –∑–∞ —Ä–æ–≤–Ω–æ –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–Ω—É—Ç—É. –û–Ω –±—ã —Ä–µ—à–∞–ª –Ω–∞—à—É –∑–∞–¥–∞—á—É, –µ—Å–ª–∏ –±—ã —É –Ω–∞—Å –Ω–µ –±—ã–ª–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞, –Ω–µ –∑–∞–≤–∏—Å—è—â–∏–π –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É.

–î–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ ```MapGetFreshTopK``` –≤ —Ç–µ—Å—Ç–∞—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –Ω–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 60 —Å–µ–∫—É–Ω–¥, –∞ –ø–æ—Å–ª–µ–¥–Ω—é—é 1 —Å–µ–∫—É–Ω–¥—É. –ü—Ä–∏ —ç—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–∫–µ—Ç–æ–≤ –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä —Ç–∞–∫–æ–π –∂–µ.

–¢–∞–∫ –∫–∞–∫ –Ω–∞—à–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ—Ç–æ—á–Ω–æ ‚Äî –º—ã –≤—ã–¥–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å–µ–≥–¥–∞ —Å –∑–∞–ø–∞—Å–æ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏, —Ç–æ –∏–Ω–æ–≥–¥–∞ –º—ã –æ—à–∏–±–∞–µ–º—Å—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º —Ñ–µ–π–ª–∏—Ç—Å—è. –ü–æ—ç—Ç–æ–º—É –µ—Å—Ç—å –¥–≤–∞ —Ç–∏–ø–∞ —Ç–µ—Å—Ç–æ–≤:

–¢–µ—Å—Ç—ã `...OneGet` –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ ‚Äî –Ω–µ –ø–æ–∑–∂–µ 1 —Å–µ–∫—É–Ω–¥—ã –º—ã –≤—ã–∑—ã–≤–∞–µ–º `GetVeryFrequent` –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã ‚Äî –ø—Ä–æ–≤–µ—Ä—è—é—Ç, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ <= 1%. –°–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: —Å–∏–º—É–ª–∏—Ä—É–µ—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞—Ö –≤—Ä–µ–º–µ–Ω–∏ (–ø–æ–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ç—ã—Ä–µ—Ö –≤–∏–¥–æ–≤: –µ—Å—Ç—å –≥–æ—Ä—è—á–∏–µ –∫–ª—é—á–∏, –≤—Å–µ –∫–ª—é—á–∏ "—Ö–æ–ª–æ–¥–Ω—ã–µ", —Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å—ã `GetVeryFrequent`, –ø–æ–ª–Ω—ã–π —Ä–∞–Ω–¥–æ–º (–º—ã –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –Ω–µ –ø–æ–Ω–∏–º–∞–µ–º –∫–∞–∫–∏–µ –∫–ª—é—á–∏ –≥–æ—Ä—è—á–∏–µ, –∞ –∫–∞–∫–∏–µ –Ω–µ—Ç)). –ö–∞–∂–¥—ã–µ `milliseconds_get_period` –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥ (–æ–±—ã—á–Ω–æ 1) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `GetVeryFrequent` –Ω–∞—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∏ —Ç–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –≤—Å–µ –∫–ª—é—á–∏ –∏–∑ —Ç–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –º—ã –Ω–∞—à–ª–∏. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Ç–æ —ç—Ç–æ –æ—à–∏–±–∫–∞ –∏ –º—ã —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º `mistakes`. –í –∫–æ–Ω—Ü–µ —Ç–µ—Å—Ç–∞ (–≤ `long_long` —Ç–µ—Å—Ç–∞—Ö ‚Äî –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö) –º—ã —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º `mistakes/global_get_num`, –≥–¥–µ `global_get_num` –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π `GetVeryFrequent`, —Å —Ç—Ä–µ–±—É–µ–º–æ–π –ø–æ –∑–∞–¥–∞–Ω–∏—é –¥–æ–ø—É—Å—Ç–∏–º–æ–π –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å—é `0.01`.

–í —Ç–µ–æ—Ä–∏–∏, –µ—Å–ª–∏ –±—ã —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–ª–∏–≤–∞–ª–∏—Å—å, —Ç–æ –Ω—É–∂–Ω–æ –±—ã–ª–æ –±—ã —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å ‚Äî —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–∫–µ—Ç–æ–≤), –Ω–æ –≤—Å–µ —Ç–µ—Å—Ç—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç—Å—è.

–¢–∞–∫ –∫–∞–∫ –º—ã —Ç–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞—à—É —Å–∏—Å—Ç–µ–º—É –≤ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö (–º—ã –≤—ã–≤–æ–¥–∏–º –Ω–µ —Ç–æ–ø-10, –∞ —Ç–µ, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—à–∞ —Ç–µ–æ—Ä–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ –µ—Å—Ç—å –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Ö–æ—Ç—è –±—ã –≤ ~10%) –∏ –Ω–∞ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –µ—Å—Ç—å –≥–æ—Ä—è—á–∏–µ –∫–ª—é—á–∏, –∫–∞–∫–æ–µ-—Ç–æ –≤–æ–æ–±—â–µ –∏—Ö –Ω–µ—Ç, —Ä–µ–∑–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∏ —Ç.–ø.), —Ç–æ "–Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º–∞—è –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å" –∏–Ω–æ–≥–¥–∞ –¥–∞–µ—Ç –æ —Å–µ–±–µ –∑–Ω–∞—Ç—å –∏ –≤–∞–ª–∏—Ç —Ç–µ—Å—Ç—ã (`long_long_tests_one_hotkey/bad_tests`). –ü–æ—ç—Ç–æ–º—É:

1. –¢–µ—Å—Ç—ã –º–æ–≥—É—Ç –ø–∞–¥–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ —Å–ª–∏—à–∫–æ–º —Ç–æ—á–Ω—ã–µ
1. `num_buckets = 20`, `bucket_size = 100` –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–º–µ–Ω—å—à–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è –Ω–∞ —ç—Ç–∏—Ö —Ç–µ—Å—Ç–∞—Ö, –Ω–æ –Ω–µ –∏—Å–∫–ª—é—á–∞–µ—Ç —ç—Ç–æ–≥–æ
1. –§–æ—Ä–º—É–ª—É –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –±—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –æ–Ω –≤—Ö–æ–¥–∏—Ç –≤ —Ç–æ–ø: (<img src="https://render.githubusercontent.com/render/math?math=alpha*n ‚Äî (1-alpha)*n/m = 0.1*n - 0.9*n/m">), –∑–∞–º–µ–Ω–∏–º –Ω–∞ <img src="https://render.githubusercontent.com/render/math?math=[0.1*n] - ]0.9*n/m[ - 2">

## üîì –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –±—É–¥—É—â–µ–µ

1. –î–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –æ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ `get key`, –∫–æ–≥–¥–∞ –∫–ª—é—á–∞ –Ω–µ—Ç. –í —Ç–µ–∫—É—â–µ–º —Ä–µ—à–µ–Ω–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏—é `std::map::operator[]`
1. –î–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –æ–± –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫. –ì–¥–µ –ª–æ–≤–∏—Ç—å –∏ –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏–ª–∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å –¥–∞–ª—å—à–µ?
1. –ù–∞—Å–∫–æ–ª—å–∫–æ –º—ã –∂–∞–¥–Ω—ã –¥–æ –ø–∞–º—è—Ç–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞? –°–µ–π—á–∞—Å —Å–∏–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è –Ω–∞ —á–∏—Å–ª–µ –±–∞–∫–µ—Ç–æ–≤ –∏ –∏—Ö
—Ä–∞–∑–º–µ—Ä–∞—Ö, –Ω–æ, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º—ã –∑–∞–ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∏–º –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —á–∏—Å–ª–∞ –±–∞–∫–µ—Ç–æ–≤ –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª—é–±—ã–º –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º, –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ—Ç–æ—Ä–æ–≥–æ
–∫–ª—é—á —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ–ø—É–ª—è—Ä–Ω—ã–º (—Ä–µ—á—å –ø—Ä–æ 10%)? –≠—Ç–æ —Å–æ–≤—Å–µ–º –Ω–µ—Å–ª–æ–∂–Ω–æ, –Ω–æ —è —Ä–µ—à–∏–ª, —á—Ç–æ –∑–∞–¥–∞—á–∞ –æ –¥—Ä—É–≥–æ–º + —Å –æ—Ç–∫—Ä—ã—Ç–æ–π —Ä—É—á–Ω–æ–π
–Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –ª–µ–≥—á–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω—É–∂–Ω–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å
1. –°–¥–µ–ª–∞—Ç—å –ª–∏ –≤–æ–∑–º–æ–∂–Ω—ã–º —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –æ–¥–Ω–æ–π —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã? –ß—Ç–æ–±—ã –∑–Ω–∞—Ç—å —Ç–æ–ø-10 –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é 
–º–∏–Ω—É—Ç—É, —á–∞—Å, –¥–µ–Ω—å –∏ —Ç.–ø.

## üèπ –í–æ–∑–º–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
1. –î–ª—è `std::map` –Ω–æ–≤—ã—Ö –±–∞–∫–µ—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::map` —Å—Ç–∞—Ä—ã—Ö, –∞ –Ω–µ –∞–ª–ª–æ—Ü–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –ø–∞–º—è—Ç—å –ø–æ–¥ –Ω–æ–≤—ã–π `std::map`
1. –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ `std::map::find` –æ–ø–µ—Ä–∞—Ü–∏–π (–ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞ –¥–µ–ª–∞–µ—Ç—Å—è `std::find` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ 
–ø–∞–∫–µ—Ç–∞) –ø—É—Ç–µ–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è `std::map` –±–∞–∫–µ—Ç–æ–≤ –≤ –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π `std::map of std::vector`, –≥–¥–µ –≤ –≤–µ–∫—Ç–æ—Ä–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è 
—É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã `std::list<int64_t>` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞ –º—ã –≤—Å–µ–≥–æ 
–ª–∏—à—å –æ–¥–∏–Ω —Ä–∞–∑ –∏—â–µ–º –∫–ª—é—á –≤ map, –¥–∞–ª—å—à–µ –ø—Ä–æ—Ö–æ–¥–∏–º—Å—è –ø–æ `std::vector` ‚Äî –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç–µ–ª—å `null`, —Ç–æ –∫–ª—é—á –Ω–µ –ª–µ–∂–∏—Ç –≤ —ç—Ç–æ–º –ø–∞–∫–µ—Ç–µ, –∞
–µ—Å–ª–∏ –Ω–µ `null`, —Ç–æ –ª–µ–∂–∏—Ç
1. –°–¥–µ–ª–∞—Ç—å –±–∞–∫–µ—Ç—ã –Ω–µ–ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–º–∏—Å—è (—á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—á–∞–ª –∑–∞ —Å–≤–æ–∏ 5 —Å–µ–∫—É–Ω–¥), —Ç–æ–≥–¥–∞ –º—ã —Ä–µ–∑–∫–æ —Å—ç–∫–æ–Ω–æ–º–∏–º –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º 
–≤—Ä–µ–º–µ–Ω–∏ - –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–ª—é—á–∞ –º—ã –±—É–¥–µ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–∞–º—ã–π —Å–≤–µ–∂–∏–π –±–∞–∫–µ—Ç (—Å–µ–π—á–∞—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ). –ù–æ –ø—Ä–∏ —ç—Ç–æ–º 
–º—ã —Å–∏–ª—å–Ω–æ –ø–æ—Ç–µ—Ä—è–µ–º —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞—à–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ, –µ—Å–ª–∏ –∫–æ—Ä–æ—Ç–∫–æ ‚Äî –ø–æ —Ç–æ–ø–∞–º –Ω–µ–ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏—Ö—Å—è –±–∞–∫–µ—Ç–æ–≤ –Ω–µ–ª—å–∑—è 
–Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —Å—É–¥–∏—Ç—å –æ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Ç–æ–ø–µ (—Ç–æ–ø –≤—Å–µ—Ö —Ç–æ–ø–æ–≤ ‚Äî –Ω–µ —Ç–æ–ø). –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –º—ã –∂–∏–≤–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º 
–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –±–æ–ª—å—à–∏—Ö —Ç–µ–º–∞—Ç–∏–∫ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤), 
–∏–∑–º–µ–Ω—è—é—â–∏–µ—Å—è –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ, —Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–µ–Ω–µ–±—Ä–µ–∂–µ–Ω–∏–µ –¥–æ–ø—É—Å—Ç–∏–º–æ. –ù–æ, –µ—Å–ª–∏ —É –Ω–∞—Å –æ—á–µ–Ω—å —Ä–∞–∑–Ω–æ—Ä–æ–¥–Ω–∞—è –∏ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è 
—Å–∏—Å—Ç–µ–º–∞, —Ç–æ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ
1. –†–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ª–µ–≥–∫–æ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å—Ç–∞–≤–∫—É –∫–ª—é—á–∞ –≤ –±–∞–∫–µ—Ç—ã 
(—Å–µ–π—á–∞—Å –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –±–∞–∫–µ—Ç), —É–º–µ–Ω—å—à–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—Å—Ç—Ä–µ—á —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ 
–±–∞–∫–µ—Ç–µ

## üë™ –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä—ã

–Ø —Ä–∞–¥ –ª—é–±–æ–π –∏–¥–µ–µ, –ª—é–±–æ–º—É pull request –∏ –ª—é–±–æ–º—É issue. –ï—Å–ª–∏ —É –í–∞—Å —á—Ç–æ-—Ç–æ –∏–∑ —ç—Ç–æ–≥–æ –µ—Å—Ç—å ‚Äî —Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å!

–¢–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤:

<a href="https://github.com/turing228" title="Github profile of Nikita Lisovetin">
    <img src="https://github.com/turing228.png" width="40" height="40">
    –ù–∏–∫–∏—Ç–∞ –õ–∏—Å–æ–≤–µ—Ç–∏–Ω, —Å—Ç—É–¥–µ–Ω—Ç —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –ò–¢–ú–û, –∫–∞—Ñ–µ–¥—Ä—ã –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–π. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç.
</a>
 
 ## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Map-Get-Fresh-Top-K GNU GPL –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω, –∫–∞–∫ –∏ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ —Ñ–∞–π–ª–µ [LICENSE][l].

[l]: https://github.com/turing228/map-get-fresh-top-k/blob/master/LICENSE